
var undo_h = fn()
  print("undo_h")
var undo_g = fn() 
 print("undo_g")

var f = fn(x, y, z)
    if x > y 
     goto fail 
    if x > z 
       goto cleanup_g 
    if x > y - z 
      goto cleanup_h 
    do
        print("got it!")
        return true
        -- need do/?

    ::cleanup_h::
    undo_h()
    ::cleanup_g::
    undo_g()
    ::fail::
    return false


print(f(3, 10, 20))
print(f(3, 0, 20))
print(f(3, 10, 0))
print(f(3, 10, 10))
