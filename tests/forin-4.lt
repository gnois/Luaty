-- Use a very weak pseudo-number generator just for testing purpose.
var my_random = \s->
	s.x = (16807 * s.x) % 2147483647
	return s.x


var my_iter= \s, i->
	if i < 20 
		return i + 1, my_random(s) 


var foo = ->
	var s = { x = 13 }
	for i, value in my_iter, s, 0 
		print(i, value)
	


foo()
